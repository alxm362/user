import{d as T,a as S,c as b,b as t,u as s,e as G,t as d,f as E,H as p,h as J,i as K,j as Q,r as g,l as W,I as X,J as Z,k as ee,m as F,U as C,p as se,R as L,q as te,s as ne,F as k,x as oe,y as m,z as A,A as ae,g as le,B as ie,_ as re,C as ue,D as ce,E as de,G as me,n as fe}from"./index-60531247.js";var N=(i=>(i.ACTIVE="active",i.SUSPENDED="suspended",i.ON_MAINTENANCE="on maintenance",i))(N||{});const pe={class:"col-xl-4 col-lg-6 col-sm-12"},ge={class:"card"},_e={class:"card-header border-0 pb-0 flex-column justify-content-center align-items-center gap-2"},Ce={class:"media me-2 rounded-profile overflow-hidden"},Ae=["src"],Se={class:"d-flex flex-column justify-content-between"},he={class:"card-title fw-bold"},be={class:"card-body pt-0"},Ne={class:"text-white mb-2"},ve={class:"ms-3 fw-bold text-primary fs-5"},ye={class:"text-white mb-2"},Ee={class:"ms-3 fw-bold text-warning fs-5"},we={class:"text-white mb-2"},$e={class:"ms-3 fw-bold text-success fs-5"},Be=T({__name:"SignalCardComponent",props:{signal:{}},setup(i){return(a,l)=>(S(),b("div",pe,[t("div",ge,[t("div",_e,[t("div",Ce,[t("img",{alt:"image",width:"50",src:`${("config"in a?a.config:s(G)).imageHost}/icon/original/${a.signal.icon}`},null,8,Ae)]),t("div",Se,[t("h2",he,d(a.signal.name),1)])]),l[3]||(l[3]=t("hr",{class:"mt-2"},null,-1)),t("div",be,[t("ul",null,[t("li",Ne,[l[0]||(l[0]=E(" Amount: ")),t("span",ve,d(("Helpers"in a?a.Helpers:s(p)).toCurrency(a.signal.amount)),1)]),t("li",ye,[l[1]||(l[1]=E(" Signal Strength: ")),t("span",Ee,"+ "+d(a.signal.signalStrength)+" %",1)]),t("li",we,[l[2]||(l[2]=E(" Increase Profit By: ")),t("span",$e,d(a.signal.dailyPercentageProfit)+" % ",1)])]),J(a.$slots,"default")])])]))}});const Me=K("signal",()=>{const i=Q(),a="signal",l=g([]),r=g(!1);function _(o){l.value=o}function h(o){r.value=o}async function w(){h(!1);try{const o=await W.get(`${a}`);_(o.data.data.signals)}catch(o){console.error(o),i.handlePost(o.response)}h(!0)}return{loaded:r,signals:l,fetchAll:w}}),Ie={class:"custom-tab-1"},He={class:"row"},Re=["onClick","disabled"],Oe={key:0,class:"row my-4"},Pe={class:"text-center"},Fe={class:"text-center"},Le={class:"error-message"},Te=T({__name:"SignalPage",setup(i){const a=X(),l=Z(),r=ee(),_=Me(),h=F(()=>_.signals);F(()=>_.loaded).value||_.fetchAll();const o=g(),f=g(C.MAIN_BALANCE),$=e=>f.value=e,V=e=>o.value=e,B=g(!1),v=(e,n)=>{B.value=e,V(n)},M=g(!1),y=e=>M.value=e,u=se({status:L.INFO,title:"",message:"",onConfirm:()=>{}}),U=e=>{u.status=e.status,u.title=e.title,u.message=e.message,u.onConfirm=e.onConfirm},D=e=>{var n;U({status:L.INFO,title:`You are about to pay ${p.toCurrency(((n=o.value)==null?void 0:n.amount)||0)} for this booster`,message:"Click on the confirm button to confirm.",onConfirm:async()=>{y(!1),await l.boostSignal(e)&&(v(!1),a.push({name:"home"}))}}),y(!0)},j=te({account:ne().required("Account is required").test(function(e){if(o.value&&r.user&&r.user[e]<o.value.amount)throw this.createError({message:`You do not have sufficient balance in your ${p.fromCamelToTitleCase(e)} Account`});return!0})});return(e,n)=>{var O;const I=Be,H=ie,R=re,q=ue,Y=ce,x=de;return S(),b(k,null,[t("div",Ie,[t("div",He,[(S(!0),b(k,null,oe(s(h),c=>(S(),me(I,{signal:c,key:c._id},{default:A(()=>[t("button",{onClick:()=>v(!0,c),type:"button",class:fe(`btn btn-outline-secondary w-100 mt-3 ${c.status===("SignalStatus"in e?e.SignalStatus:s(N)).ON_MAINTENANCE?"border-0":""}`),disabled:c.status===("SignalStatus"in e?e.SignalStatus:s(N)).ON_MAINTENANCE},d(c.status===("SignalStatus"in e?e.SignalStatus:s(N)).ON_MAINTENANCE?"Engine is on maintenance":"Boost Now"),11,Re)]),_:2},1032,["signal"]))),128))])]),m(Y,{"is-open":s(B),"validation-schema":s(j),onConfirm:D,onClose:n[3]||(n[3]=()=>v(!1)),"confirm-btn-text":`Pay ${("Helpers"in e?e.Helpers:s(p)).toCurrency(((O=s(o))==null?void 0:O.amount)||0)} `},{default:A(({errors:c})=>{var P;return[n[8]||(n[8]=t("h3",{class:"border-bottom text-dark text-center pb-3"},"PAY FOR BOOSTER",-1)),m(H,{name:"signalId",value:(P=s(o))==null?void 0:P._id,type:"hidden"},null,8,["value"]),s(r).user?(S(),b("div",Oe,[n[7]||(n[7]=t("label",{class:"form-label"},"Account",-1)),m(q,null,{default:A(()=>[m(R,{onClick:n[0]||(n[0]=()=>$(s(C).MAIN_BALANCE)),selected:s(f)===s(C).MAIN_BALANCE},{default:A(()=>[n[5]||(n[5]=t("span",{class:"d-block"},"Main Balance",-1)),t("h4",Pe,d(("Helpers"in e?e.Helpers:s(p)).toCurrency(s(r).user.mainBalance)),1)]),_:1},8,["selected"]),m(R,{selected:s(f)===s(C).REFERRAL_BALANCE,onClick:n[1]||(n[1]=()=>$(s(C).REFERRAL_BALANCE))},{default:A(()=>[n[6]||(n[6]=t("span",{class:"d-block"},"Referral Balance",-1)),t("h4",Fe,d(("Helpers"in e?e.Helpers:s(p)).toCurrency(s(r).user.referralBalance)),1)]),_:1},8,["selected"])]),_:1}),m(H,{name:"account",modelValue:s(f),"onUpdate:modelValue":n[2]||(n[2]=z=>ae(f)?f.value=z:null),type:"hidden"},null,8,["modelValue"]),t("span",Le,d(c.account),1)])):le("",!0)]}),_:1},8,["is-open","validation-schema","confirm-btn-text"]),m(x,{"is-open":s(M),status:s(u).status,title:s(u).title,message:s(u).message,onConfirm:s(u).onConfirm,onClose:n[4]||(n[4]=()=>y(!1))},null,8,["is-open","status","title","message","onConfirm"])],64)}}});export{Te as default};
