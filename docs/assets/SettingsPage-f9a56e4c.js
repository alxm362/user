import{d as A,k as P,r as F,q as S,s as c,V as L,L as $,a as u,c as p,g as U,b as e,w as B,u as t,y as r,z as x,t as n,W as D,X as E,A as C,F as N,x as R,B as z,N as J,J as k,Y as M}from"./index-60531247.js";const O={class:"card"},W={class:"card-body"},X={class:"profile-tab"},Y={class:"custom-tab-1"},Z={class:"tab-content"},j={id:"account-upgrade",class:"tab-pane fade"},G={class:"pt-3"},H={class:"settings-form"},I={class:"row"},K={class:"mb-3 col-md-6"},Q=["value"],T={class:"text-center mt-2"},ee={id:"my-profile",class:"tab-pane fade active show"},se={class:"pt-3"},te={class:"settings-form"},ae={class:"row"},oe={class:"mb-3 col-md-6"},le={class:"error-message"},re={class:"mb-3 col-md-6"},ne={class:"error-message"},de={class:"mb-3 col-md-6"},ie={class:"error-message"},ce={class:"mb-3 col-md-6"},me=["value","selected"],ue={class:"error-message"},pe={class:"row"},ve={class:"mb-3 col-md-6"},be=["value"],_e={class:"mb-3 col-md-6"},fe=["value"],he={id:"update-password",class:"tab-pane fade"},we={class:"pt-3"},ye={class:"settings-form"},ge={class:"row"},Pe={class:"mb-3 col-md-6"},Se={class:"error-message"},Ue={class:"mb-3 col-md-6"},xe={class:"error-message"},Ce={class:"mb-3 col-md-6 offset-md-6"},Ne={class:"error-message"},Ve=A({__name:"SettingsPage",setup(ke){const a=P().user,m=F((a==null?void 0:a.currency)||"USD"),q=S({name:c().min(3).max(30).required(),phone:c().required().label("Phone number"),currency:c().required(),username:c().min(3).max(30).required().matches(/^[a-zA-Z0-9]+$/,"Username must be alphanumeric")}),V=S({oldPassword:c().required().label("current password"),password:c().min(8).required(),confirmPassword:c().required().label("confirm password").oneOf([L("password")],"Password should match")});return(d,s)=>{var b;$("RouterLink");const i=z,v=J;return u(),p(N,null,[U("",!0),U("",!0),e("div",O,[e("div",W,[e("div",X,[e("div",Y,[s[23]||(s[23]=B('<ul class="nav nav-tabs border-2 border-dark d-flex text-nowrap"><li class="nav-item" style="flex:1;"><a href="#account-upgrade" data-bs-toggle="tab" class="nav-link rounded-top m-0 text-center">Account</a></li><li class="nav-item" style="flex:1;"><a href="#my-profile" data-bs-toggle="tab" class="nav-link show active rounded-top m-0 text-center">Profile</a></li><li class="nav-item" style="flex:1;"><a href="#update-password" data-bs-toggle="tab" class="nav-link rounded-top m-0 text-center">Password</a></li></ul>',1)),e("div",Z,[e("div",j,[e("div",G,[e("div",H,[e("div",I,[e("div",K,[s[11]||(s[11]=e("label",{class:"form-label"},"Current Account Level",-1)),e("input",{type:"text",placeholder:"Level",class:"form-control",value:(b=t(a))==null?void 0:b.level,disabled:""},null,8,Q)])]),e("div",T,[e("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=o=>("useUserStore"in d?d.useUserStore:t(k))().requestUpgrade())}," Request An Upgrade ")])])])]),e("div",ee,[e("div",se,[e("div",te,[r(v,{"validation-schema":t(q),onSubmit:("useUserStore"in d?d.useUserStore:t(k))().updateProfile},{default:x(({errors:o})=>{var _,f,h,w,y;return[e("div",ae,[e("div",oe,[s[12]||(s[12]=e("label",{class:"form-label"},"Name",-1)),r(i,{type:"text",placeholder:"Name",class:"form-control",name:"name",value:(_=t(a))==null?void 0:_.name,"validate-on-input":!0},null,8,["value"]),e("span",le,n(o.name),1)]),e("div",re,[s[13]||(s[13]=e("label",{class:"form-label"},"Username",-1)),r(i,{type:"text",placeholder:"Username",class:"form-control",name:"username",value:(f=t(a))==null?void 0:f.username,"validate-on-input":!0},null,8,["value"]),e("span",ne,n(o.username),1)]),e("div",de,[s[14]||(s[14]=e("label",{class:"form-label"},"Phone Number",-1)),r(i,{type:"text",placeholder:"Phone Number",class:"form-control",name:"phone",value:(h=t(a))==null?void 0:h.phone,"validate-on-input":!0},null,8,["value"]),e("span",ie,n(o.phone),1)]),e("div",ce,[s[15]||(s[15]=e("label",{class:"form-label"},"Currency",-1)),D(e("select",{name:"cur",class:"default-select form-control wide","onUpdate:modelValue":s[1]||(s[1]=l=>C(m)?m.value=l:null)},[(u(!0),p(N,null,R("currencies"in d?d.currencies:t(M),l=>{var g;return u(),p("option",{key:l.currency_code,value:l.currency_code,selected:l.currency_code==((g=t(a))==null?void 0:g.currency)},n(l.currency_code)+" - "+n(l.currency_symbol),9,me)}),128))],512),[[E,t(m)]]),r(i,{type:"hidden",class:"form-control",name:"currency",modelValue:t(m),"onUpdate:modelValue":s[2]||(s[2]=l=>C(m)?m.value=l:null),"validate-on-input":!0},null,8,["modelValue"]),e("span",ue,n(o.currency),1)])]),e("div",pe,[e("div",ve,[s[16]||(s[16]=e("label",{class:"form-label"},"Email",-1)),e("input",{type:"email",placeholder:"Email",class:"form-control",value:(w=t(a))==null?void 0:w.email,disabled:""},null,8,be)]),e("div",_e,[s[17]||(s[17]=e("label",{class:"form-label"},"Country",-1)),e("input",{type:"text",placeholder:"Country",class:"form-control",value:(y=t(a))==null?void 0:y.country,disabled:""},null,8,fe)])]),s[18]||(s[18]=e("div",{class:"text-center mt-2"},[e("button",{class:"btn btn-primary",type:"submit"}," Update ")],-1))]}),_:1},8,["validation-schema","onSubmit"])])])]),e("div",he,[e("div",we,[e("div",ye,[r(v,{"validation-schema":t(V),onSubmit:("useAuthStore"in d?d.useAuthStore:t(P))().updatePassword},{default:x(({errors:o})=>[e("div",ge,[e("div",Pe,[s[19]||(s[19]=e("label",{class:"form-label"},"Current Password",-1)),r(i,{type:"password",placeholder:"Current Password",class:"form-control",name:"oldPassword","validate-on-input":!0}),e("span",Se,n(o.oldPassword),1)]),e("div",Ue,[s[20]||(s[20]=e("label",{class:"form-label"},"New Password",-1)),r(i,{type:"password",placeholder:"New Password",class:"form-control",name:"password","validate-on-input":!0}),e("span",xe,n(o.password),1)]),e("div",Ce,[s[21]||(s[21]=e("label",{class:"form-label"},"Confirm Password",-1)),r(i,{type:"password",placeholder:"Confirm Password",class:"form-control",name:"confirmPassword","validate-on-input":!0}),e("span",Ne,n(o.confirmPassword),1)])]),s[22]||(s[22]=e("div",{class:"text-center mt-2"},[e("button",{class:"btn btn-primary",type:"submit"}," Update ")],-1))]),_:1},8,["validation-schema","onSubmit"])])])])])])])])])],64)}}});export{Ve as default};
