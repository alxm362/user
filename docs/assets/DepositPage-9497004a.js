import{d as be,j as ye,k as Ce,r as S,m as _,p as ke,R as ge,q as Ae,v as De,Z as He,a as l,c as n,y as v,z as f,u as t,b as e,f as H,t as r,g as u,F as E,x as j,A as Pe,T as q,n as Y,G as P,B as Ne,C as we,N as Se,E as xe,H as c,$ as ie,_ as Te,S as Me}from"./index-60531247.js";import{_ as Oe,a as Re,b as Be}from"./EmptyResourceComponent-0b9922e9.js";import{u as Ee,a as Ye,b as Le,c as $e,O as i,_ as Ie}from"./depositMethod.store-6201dc04.js";import{_ as Ue}from"./pattern11-0e276dd2.js";import{_ as Fe}from"./circle-9a6de994.js";const Ke={key:0},Ve={class:"row"},We={class:"col-xl-12 col-xxl-4"},je={class:"card card-bx bg-blue action-card"},qe={class:"card-body text-white"},Ge={class:"row"},ze={class:"col-12 text-center"},Qe={key:0,class:"text-white fs-36"},Ze={class:"text-num text-black fs-20 font-w500"},Je={class:"d-flex justify-content-center mb-3"},Xe={class:"col-xl-12 col-xxl-8"},et={class:"card"},tt={class:"card-body py-4"},st={class:"settings-form"},ot=["value"],lt=["value"],at=["value"],nt=["value"],rt={key:0},it={class:"d-block fw-bold"},dt=["src","alt"],ut={class:"d-block"},ct={class:"error-message"},pt={class:"row mt-4"},mt={class:"mb-3 col-12"},_t={class:"d-flex justify-content-between"},ft={class:"d-flex gap-2"},vt={key:0,class:"d-flex"},ht={class:"fw-bold"},bt={key:1,class:"d-flex"},yt={class:"fw-bold"},Ct={class:"error-message"},kt={key:0,class:"card"},gt={class:"card-body"},At={key:0,class:"fs-18 text-center mx-auto mb-4",style:{"max-width":"490px"}},Dt={class:"fw-bold text-info"},Ht={key:1,class:"fs-18 text-center mx-auto mb-4",style:{"max-width":"490px"}},Pt={class:"fw-bold text-info"},Nt={class:"row"},wt={key:0,class:"col-lg-5 mb-3 mb-lg-0"},St={class:"d-flex justify-content-center align-items-center h-100 flex-column"},xt={class:"bg-background p-4 rounded"},Tt={class:"p-2 bg-skin rounded-2"},Mt={key:0,class:"mb-3"},Ot=["value"],Rt={key:1,class:"mb-3"},Bt=["value"],Et={key:2,class:"mb-3"},Yt=["value"],Lt={key:3,class:"mb-3"},$t=["value"],It={key:4,class:"mb-3"},Ut=["value"],Ft={key:5,class:"mb-3"},Kt=["value"],Vt={key:6,class:"mb-3"},Wt=["value"],jt={key:7,class:"mb-3"},qt=["value"],Gt={key:8,class:"mb-3"},zt=["value"],Qt={key:9,class:"mb-3"},Zt=["value"],Jt={class:"mb-3"},Xt=["value"],es={class:"d-flex justify-content-center gap-3 mt-3"},ts={key:0,class:"row mt-4"},ss={class:"custom-tab-1"},os={class:"tab-content"},ls={id:"crypto",class:"tab-pane fade active show"},as={class:"col-12"},ns={class:"card"},rs={class:"card-header"},is={key:1,class:"card-body pt-0 px-0"},ds={class:"d-none"},us={class:"text-center"},cs={class:"d-flex"},ps=["src","alt"],ms={class:"d-flex flex-column"},_s={class:"fw-bold"},fs={class:"fs-14"},vs={id:"others",class:"tab-pane fade"},hs={class:"col-12"},bs={class:"card"},ys={class:"card-header"},Cs={key:1,class:"card-body pt-0 px-0"},ks={class:"d-none"},gs={class:"text-center"},As=be({__name:"DepositPage",setup(Ds){const G=ye(),L=Ce(),T=Ee(),M=Ye(),O=S(0),N=o=>{scrollTo({top:0}),setTimeout(()=>{O.value=o},100)},D=S({depositMethodId:"",amount:0}),z=o=>{D.value=o},de=o=>{G.setPost(!0),setTimeout(()=>{z(o),N(1),G.setPost(!1)},1e3)},d=S(),R=S(""),b=o=>{o&&(d.value=o,R.value=o._id)},Q=_(()=>T.deposits),$=_(()=>T.loaded);$.value||T.fetchAll();const Z=_(()=>M.otherDeposits),I=_(()=>M.loaded);I.value||M.fetchAll();const U=Le(),w=_(()=>U.depositMethods),J=_(()=>U.loaded);J.value||U.fetchAll();const F=$e(),K=_(()=>F.otherDepositMethods);_(()=>F.loaded).value||F.fetchAll();const X=_(()=>K.value.find(o=>o.type===i.BANK)),ee=_(()=>K.value.find(o=>o.type===i.PAYPAL)),te=_(()=>K.value.find(o=>o.type===i.CASH_APP)),p=S(i.CRYPTO),ue=o=>{p.value=o,o===i.BANK?b(X.value):o===i.PAYPAL?b(ee.value):o===i.CASH_APP?b(te.value):b(w.value[0])},se=S(!1),V=o=>se.value=o,B=ke({status:ge.INFO,title:"Confirming The Deposit",message:"Please make sure you have made the deposit to the provided details before confirming",onConfirm:()=>pe()}),ce=Ae({amount:De().typeError("amount is required").min(0,"amount should not be a negative value").required("amount is required").test(function(o){if(d.value&&o<d.value.minDeposit)throw this.createError({message:`Amount must be at least ${d.value.minDeposit}`});return!0})}),pe=async()=>{V(!1);let o=!1;p.value===i.CRYPTO?o=await T.createDeposit(D.value):o=await M.createOtherDeposit({type:p.value,amount:D.value.amount}),o&&(N(2),z({depositMethodId:w.value[0]._id,amount:0}),b(w.value[0]))};return b(w.value[0]),He(J,(o,s)=>{!s&&o&&b(w.value[0])}),(o,s)=>{const W=Ne,me=Te,_e=we,fe=Se,ve=Ie,oe=Oe,le=Be,ae=Re,he=xe;return l(),n(E,null,[v(q,{name:"slide"},{default:f(()=>[t(O)===0?(l(),n("div",Ke,[e("div",Ve,[e("div",We,[e("div",je,[s[10]||(s[10]=e("img",{class:"pattern-img",src:Ue,alt:""},null,-1)),e("div",qe,[s[9]||(s[9]=e("img",{src:Fe,class:"mb-4",alt:""},null,-1)),e("div",Ge,[e("div",ze,[t(L).user?(l(),n("h2",Qe,[H(r(("Helpers"in o?o.Helpers:t(c)).toCurrency(t(L).user.mainBalance))+" ",1),s[7]||(s[7]=e("br",null,null,-1)),e("span",Ze,"â‰ƒ "+r(("Helpers"in o?o.Helpers:t(c)).toCrypto(t(L).user.mainBalance)),1)])):u("",!0),s[8]||(s[8]=e("p",{class:"fs-16"},"Main Balance",-1))])])])]),e("div",Je,[e("a",{href:"javascript:void(0);",class:"btn btn-outline-secondary",onClick:s[0]||(s[0]=()=>N(2))},"View Deposit History")])]),e("div",Xe,[e("div",et,[e("div",tt,[e("div",st,[s[16]||(s[16]=e("label",{class:"form-label"},"Method",-1)),v(W,{class:"default-select form-control wide mb-3",name:"method",as:"select","onUpdate:modelValue":ue},{default:f(()=>[e("option",{class:"text-black",value:t(i).CRYPTO,selected:!0},r(t(i).CRYPTO),9,ot),t(X)?(l(),n("option",{key:0,class:"text-black",value:t(i).BANK},r(t(i).BANK),9,lt)):u("",!0),t(ee)?(l(),n("option",{key:1,class:"text-black",value:t(i).PAYPAL},r(t(i).PAYPAL),9,at)):u("",!0),t(te)?(l(),n("option",{key:2,class:"text-black",value:t(i).CASH_APP},r(t(i).CASH_APP),9,nt)):u("",!0)]),_:1}),v(fe,{onSubmit:de,class:"custom-modal-content","validation-schema":t(ce)},{default:f(({errors:h})=>{var y,a;return[t(p)===t(i).CRYPTO?(l(),n("div",rt,[s[11]||(s[11]=e("label",{class:"form-label"},"Coin",-1)),v(_e,null,{default:f(()=>[(l(!0),n(E,null,j(t(w),m=>{var C;return l(),P(me,{key:m._id,selected:((C=t(d))==null?void 0:C._id)===m._id,onClick:()=>b(m)},{default:f(()=>{var k,g,A;return[e("span",it,r(("Helpers"in o?o.Helpers:t(c)).toTitleCase(((k=m.currency)==null?void 0:k.name)||"Unknown")),1),e("img",{style:{height:"34px"},src:`/svg/crypto-icons/${(g=m.currency)==null?void 0:g.logo}`,alt:(A=m.currency)==null?void 0:A.name},null,8,dt),e("span",ut,r(m.network.toUpperCase()),1)]}),_:2},1032,["selected","onClick"])}),128))]),_:1}),v(W,{name:"depositMethodId",modelValue:t(R),"onUpdate:modelValue":s[1]||(s[1]=m=>Pe(R)?R.value=m:null),type:"hidden"},null,8,["modelValue"]),e("span",ct,r(h.depositMethodId),1)])):u("",!0),e("div",pt,[e("div",mt,[e("div",_t,[s[14]||(s[14]=e("label",{class:"form-label"},"Amount",-1)),e("div",ft,[t(d)&&t(d).fee?(l(),n("div",vt,[s[12]||(s[12]=e("span",{class:""},"fee: ",-1)),e("span",ht,r(" "+((y=t(d))==null?void 0:y.fee)),1)])):u("",!0),t(d)?(l(),n("div",bt,[s[13]||(s[13]=e("span",{class:""},"min: ",-1)),e("span",yt,r(" "+((a=t(d))==null?void 0:a.minDeposit)),1)])):u("",!0)])]),v(W,{name:"amount",type:"number",placeholder:"Amount",class:"form-control","validate-on-input":!0,value:t(D).amount||""},null,8,["value"]),e("span",Ct,r(h.amount),1)]),s[15]||(s[15]=e("div",{class:"text-center mt-2"},[e("button",{class:"btn btn-primary",type:"submit"}," Pay Now ")],-1))])]}),_:1},8,["validation-schema"])])])])])])])):u("",!0)]),_:1}),v(q,{name:"slide"},{default:f(()=>{var h,y,a,m,C,k,g,A,x,ne,re;return[t(O)===1?(l(),n("div",kt,[s[32]||(s[32]=e("div",{class:"card-header"},[e("h4",{class:"card-title"},"Make Payment and Confirm")],-1)),e("div",gt,[t(p)===t(i).CRYPTO?(l(),n("p",At,[s[17]||(s[17]=H(" SEND ")),e("span",Dt,r(("Helpers"in o?o.Helpers:t(c)).toDollar(t(D).amount)),1),s[18]||(s[18]=H(" TO THE WALLET ADDRESS BELOW OR SCAN THE QR CODE WITH YOUR WALLET APP "))])):(l(),n("p",Ht,[s[19]||(s[19]=H(" SEND ")),e("span",Pt,r(("Helpers"in o?o.Helpers:t(c)).toDollar(t(D).amount)),1),H(" TO THE "+r(t(p).toUpperCase())+" DETAILS BELOW ",1)])),e("div",Nt,[t(p)===t(i).CRYPTO?(l(),n("div",wt,[e("div",St,[e("div",xt,[e("div",Tt,[v(ve,{value:t(d).address},null,8,["value"])])])])])):u("",!0),e("div",{class:Y(`${t(p)===t(i).CRYPTO?"col-lg-7":"offset-lg-3 col-lg-6"}`)},[t(p)===t(i).CRYPTO?(l(),n("div",Mt,[s[20]||(s[20]=e("label",{class:"form-label"},"Coin Name",-1)),e("input",{type:"text",placeholder:"Coin Name",class:"form-control",value:`${("Helpers"in o?o.Helpers:t(c)).toTitleCase(((h=t(d).currency)==null?void 0:h.name)||"Unknown")} - (${(y=t(d).currency)==null?void 0:y.symbol.toUpperCase()})`,readonly:""},null,8,Ot)])):u("",!0),t(p)===t(i).CRYPTO?(l(),n("div",Rt,[s[21]||(s[21]=e("label",{class:"form-label"},"Network",-1)),e("input",{type:"text",placeholder:"Coin Network",class:"form-control",value:(a=t(d))==null?void 0:a.network.toUpperCase(),readonly:""},null,8,Bt)])):u("",!0),t(p)===t(i).CRYPTO?(l(),n("div",Et,[s[22]||(s[22]=e("label",{class:"form-label"},"Copy Wallet Address",-1)),e("input",{type:"text",placeholder:"Wallet Address",class:"form-control",value:(m=t(d))==null?void 0:m.address,readonly:""},null,8,Yt)])):u("",!0),t(p)===t(i).BANK?(l(),n("div",Lt,[s[23]||(s[23]=e("label",{class:"form-label"},"Bank Name",-1)),e("input",{type:"text",placeholder:"Bank Name",class:"form-control",value:(C=t(d))==null?void 0:C.bankName,readonly:""},null,8,$t)])):u("",!0),t(p)===t(i).BANK?(l(),n("div",It,[s[24]||(s[24]=e("label",{class:"form-label"},"Routing Number",-1)),e("input",{type:"text",placeholder:"Routing Number",class:"form-control",value:(k=t(d))==null?void 0:k.routingNumber,readonly:""},null,8,Ut)])):u("",!0),t(p)===t(i).BANK?(l(),n("div",Ft,[s[25]||(s[25]=e("label",{class:"form-label"},"Swift Code",-1)),e("input",{type:"text",placeholder:"Swift Code",class:"form-control",value:(g=t(d))==null?void 0:g.swiftCode,readonly:""},null,8,Kt)])):u("",!0),t(p)===t(i).BANK?(l(),n("div",Vt,[s[26]||(s[26]=e("label",{class:"form-label"},"Account Number",-1)),e("input",{type:"text",placeholder:"Account Number",class:"form-control",value:(A=t(d))==null?void 0:A.accountNumber,readonly:""},null,8,Wt)])):u("",!0),t(p)===t(i).BANK?(l(),n("div",jt,[s[27]||(s[27]=e("label",{class:"form-label"},"Account Name",-1)),e("input",{type:"text",placeholder:"Account Name",class:"form-control",value:(x=t(d))==null?void 0:x.accountName,readonly:""},null,8,qt)])):u("",!0),t(p)===t(i).PAYPAL?(l(),n("div",Gt,[s[28]||(s[28]=e("label",{class:"form-label"},"PayPal Email",-1)),e("input",{type:"text",placeholder:"PayPal Email",class:"form-control",value:(ne=t(d))==null?void 0:ne.paypalEmail,readonly:""},null,8,zt)])):u("",!0),t(p)===t(i).CASH_APP?(l(),n("div",Qt,[s[29]||(s[29]=e("label",{class:"form-label"},"CashApp Tag",-1)),e("input",{type:"text",placeholder:"CashApp Tag",class:"form-control",value:(re=t(d))==null?void 0:re.cashAppTag,readonly:""},null,8,Zt)])):u("",!0),e("div",Jt,[s[30]||(s[30]=e("label",{class:"form-label"},"Amount",-1)),e("input",{type:"text",placeholder:"Amount",class:"form-control",value:("Helpers"in o?o.Helpers:t(c)).toDollar(t(D).amount),readonly:""},null,8,Xt)])],2),e("div",{class:Y(["col-lg-5",`${t(p)===t(i).CRYPTO?"col-lg-5":"offset-lg-3 col-lg-6"}`])},s[31]||(s[31]=[e("p",{class:"text-info mt-3 text-primary text-center"}," Awaiting payment... ",-1)]),2)]),e("div",es,[e("button",{class:"btn btn-secondary",onClick:s[2]||(s[2]=()=>N(0))}," Go Back "),e("button",{class:"btn btn-primary",onClick:s[3]||(s[3]=()=>V(!0))}," Confirm ")])])])):u("",!0)]}),_:1}),v(q,{name:"slide"},{default:f(()=>{var h,y;return[t(O)===2?(l(),n("div",ts,[e("div",ss,[s[39]||(s[39]=e("ul",{class:"nav nav-tabs border-2 d-flex text-nowrap mb-4"},[e("li",{class:"nav-item"},[e("a",{href:"#crypto","data-bs-toggle":"tab",class:"nav-link show active rounded-top m-0 text-center",style:{border:"none"}},"Crypto")]),e("li",{class:"nav-item"},[e("a",{href:"#others","data-bs-toggle":"tab",class:"nav-link rounded-top m-0 text-center",style:{border:"none"}},"Others")])],-1)),e("div",os,[e("div",ls,[e("div",as,[e("div",ns,[e("div",rs,[s[33]||(s[33]=e("h4",{class:"card-title"},"Deposit History",-1)),e("button",{class:"btn btn-outline-secondary",onClick:s[4]||(s[4]=()=>N(0))}," Deposit ")]),t($)&&!((h=t(Q))!=null&&h.length)?(l(),P(oe,{key:0},{default:f(()=>s[34]||(s[34]=[H(" No Deposit Record Found ")])),_:1})):(l(),n("div",is,[t($)?(l(),P(ae,{key:1},{default:f(()=>[s[35]||(s[35]=e("thead",{class:"bg-background"},[e("tr",null,[e("th",{class:"text-sharp d-none"},"Sort"),e("th",{class:"text-sharp text-center"},"Status"),e("th",{class:"text-sharp"},"Amount"),e("th",{class:"text-sharp"},"fee"),e("th",{class:"text-sharp"},"Currency"),e("th",{class:"text-sharp"},"Network"),e("th",{class:"text-sharp"},"Created"),e("th",{class:"text-sharp"},"Settled")])],-1)),e("tbody",null,[(l(!0),n(E,null,j(t(Q),(a,m)=>{var C,k,g,A,x;return l(),n("tr",{key:a._id},[e("td",ds,r(m+1),1),e("td",us,[e("span",{class:Y(`badge light badge-${("Helpers"in o?o.Helpers:t(c)).toStatus(a.status)}`)},r(("Helpers"in o?o.Helpers:t(c)).toTitleCase(a.status)),3)]),e("td",null,r(("Helpers"in o?o.Helpers:t(c)).toCurrency(a.amount)),1),e("td",null,r(a.fee?("Helpers"in o?o.Helpers:t(c)).toCurrency(-a.fee):"--"),1),e("td",null,[e("div",cs,[e("img",{src:`/icons/crypto-svg/${(C=a.currency)==null?void 0:C.logo}`,class:"me-3",alt:(k=a.currency)==null?void 0:k.name,width:"24"},null,8,ps),e("div",ms,[e("span",_s,r(("Helpers"in o?o.Helpers:t(c)).toTitleCase(((g=a.currency)==null?void 0:g.name)||"Unknown")),1),e("span",fs,r((A=a.currency)==null?void 0:A.symbol.toUpperCase()),1)])])]),e("td",null,r((x=a.depositMethod)==null?void 0:x.network.toUpperCase()),1),e("td",null,r(("Helpers"in o?o.Helpers:t(c)).toNiceDate(a.createdAt)),1),e("td",null,r(a.status===("DepositStatus"in o?o.DepositStatus:t(ie)).PENDING?"--":("Helpers"in o?o.Helpers:t(c)).toNiceDate(a.updatedAt)),1)])}),128))])]),_:1})):(l(),P(le,{key:0,rows:8,cols:6}))]))])])]),e("div",vs,[e("div",hs,[e("div",bs,[e("div",ys,[s[36]||(s[36]=e("h4",{class:"card-title"},"Deposit History",-1)),e("button",{class:"btn btn-outline-secondary",onClick:s[5]||(s[5]=()=>N(0))}," Deposit ")]),t(I)&&!((y=t(Z))!=null&&y.length)?(l(),P(oe,{key:0},{default:f(()=>s[37]||(s[37]=[H(" No Deposit Record Found ")])),_:1})):(l(),n("div",Cs,[t(I)?(l(),P(ae,{key:1},{default:f(()=>[s[38]||(s[38]=e("thead",{class:"bg-background"},[e("tr",null,[e("th",{class:"text-sharp d-none"},"Sort"),e("th",{class:"text-sharp text-center"},"Status"),e("th",{class:"text-sharp"},"Amount"),e("th",{class:"text-sharp"},"fee"),e("th",{class:"text-sharp"},"Type"),e("th",{class:"text-sharp"},"Created"),e("th",{class:"text-sharp"},"Settled")])],-1)),e("tbody",null,[(l(!0),n(E,null,j(t(Z),(a,m)=>(l(),n("tr",{key:a._id},[e("td",ks,r(m+1),1),e("td",gs,[e("span",{class:Y(`badge light badge-${("Helpers"in o?o.Helpers:t(c)).toStatus(a.status)}`)},r(("Helpers"in o?o.Helpers:t(c)).toTitleCase(a.status)),3)]),e("td",null,r(("Helpers"in o?o.Helpers:t(c)).toCurrency(a.amount)),1),e("td",null,r(a.fee?("Helpers"in o?o.Helpers:t(c)).toCurrency(-a.fee):"--"),1),e("td",null,r(a.type),1),e("td",null,r(("Helpers"in o?o.Helpers:t(c)).toNiceDate(a.createdAt)),1),e("td",null,r(a.status===("DepositStatus"in o?o.DepositStatus:t(ie)).PENDING?"--":("Helpers"in o?o.Helpers:t(c)).toNiceDate(a.updatedAt)),1)]))),128))])]),_:1})):(l(),P(le,{key:0,rows:8,cols:6}))]))])])])])])])):u("",!0)]}),_:1}),v(he,{"is-open":t(se),status:t(B).status,title:t(B).title,message:t(B).message,onConfirm:t(B).onConfirm,onClose:s[6]||(s[6]=h=>V(!1)),"confirm-btn-text":"Yes, Confirm"},null,8,["is-open","status","title","message","onConfirm"])],64)}}});const Ts=Me(As,[["__scopeId","data-v-14cc4e98"]]);export{Ts as default};
