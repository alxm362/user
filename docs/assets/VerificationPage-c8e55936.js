import{d as V,r as f,a as m,c as p,b as s,h as C,u as n,n as z,S as I,k as D,J as U,I as F,a4 as g,q as M,s as R,y as h,z as b,t as S,a5 as $,g as j,B as E,N as K}from"./index-60531247.js";const N=["for"],B=["id"],G=V({__name:"MyImageFileComponent",props:{name:{},size:{},type:{},class:{}},emits:["change"],setup(k,{emit:u}){const t=f([]),a=f(""),i=f(""),d=u,l=k,v=c=>{t.value=[],a.value="",i.value="";const[r]=c.target.files;if(r){const{size:o,type:e,name:_}=r;if(i.value=_,l.type&&!l.type.includes(e)&&t.value.push("Invalid file format"),l.size&&l.size<o&&t.value.push("File too large"),t.value.length)d("change",void 0,{errors:t.value,src:a.value,filename:i.value});else{const y=URL.createObjectURL(r);a.value=y,d("change",r,{errors:t.value,src:a.value,filename:i.value})}}else d("change",void 0,{errors:t.value,src:a.value,filename:i.value})};return(c,r)=>(m(),p("label",{for:c.name,class:z(l.class)},[s("input",{id:c.name,type:"file",onChange:v},null,40,B),C(c.$slots,"default",{errors:n(t),src:n(a),filename:n(i)},void 0,!0)],10,N))}});const O=I(G,[["__scopeId","data-v-86ab867a"]]),L={class:"card"},A={class:"card-body"},J={key:0,class:"py-3"},q={key:0,class:"settings-form"},H={class:"row"},T={class:"mb-3 offset-md-3 col-md-6"},Y={class:"error-message"},Q={class:"mb-3 offset-md-3 col-md-6"},W={class:"error-message file-error"},X={key:1,class:"d-flex flex-column align-items-center justify-content-between gap-3"},Z=V({__name:"VerificationPage",setup(k){var r;const u=f(),t=f(),a=D(),i=U(),d=F();((r=a.user)==null?void 0:r.kycVerificationStatus)===g.APPROVED&&d.push({name:"home"});const l=(o,e)=>{u.value=o,t.value=e==null?void 0:e.src},v=M({type:R().required().label("Document type")}),c=async o=>{if(!u.value)return;const e=new FormData;e.append("kyc",u.value),e.append("type",o.type),e.append("amount",o.amount),await i.uploadKyc(e)};return(o,e)=>{const _=E,y=O,w=K;return m(),p("div",L,[s("div",A,[n(a).user?(m(),p("div",J,[n(a).user.kycVerificationStatus!==("UserKycVerificationStatus"in o?o.UserKycVerificationStatus:n(g)).PROCESSING&&n(a).user.kycVerificationStatus!==("UserKycVerificationStatus"in o?o.UserKycVerificationStatus:n(g)).APPROVED?(m(),p("div",q,[h(w,{"validation-schema":n(v),onSubmit:c},{default:b(({errors:x})=>[s("div",H,[s("div",T,[e[1]||(e[1]=s("label",{class:"form-label"},"Document Type",-1)),h(_,{name:"type",as:"select",class:"default-select form-control wide"},{default:b(()=>e[0]||(e[0]=[s("option",{value:"governmental Id"},"Governmental ID",-1),s("option",{value:"interbational passport"}," International Passport ",-1),s("option",{value:"drivers license"},"Drivers License",-1),s("option",{value:"others"},"Others",-1)])),_:1}),s("span",Y,S(x.type),1)]),s("div",Q,[e[3]||(e[3]=s("label",{class:"form-label"},"Upload Document",-1)),s("div",null,[h(y,{name:"documentImage",type:["image/jpg","image/jpeg","image/png","image/gif"],size:11e6,onChange:l,class:"w-100"},{default:b(({errors:P})=>[s("div",{class:"px-4 d-flex justify-content-center align-items-center flex-column upload-area",style:$({backgroundImage:`url(${n(t)})`,backgroundPosition:"center",backgroundSize:"cover",aspectRatio:"16/9",minHeight:"100px"})},e[2]||(e[2]=[s("span",{class:"drop-zoon__icon"},[s("svg",{class:"upload-icon",width:"40",height:"40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M13.438 12.81L20 6.25l6.563 6.56M20 23.75V6.255M33.75 23.75v8.75a1.25 1.25 0 01-1.25 1.25h-25a1.25 1.25 0 01-1.25-1.25v-8.75",stroke:"#366CE3","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),s("p",{class:"desc body-sb"},S("Max 11MB, PNG, JPEG, JPG"),-1)]),4),s("span",W,S(P[0]),1)]),_:2},1024)])])]),e[4]||(e[4]=s("div",{class:"text-center mt-2"},[s("button",{class:"btn btn-primary",type:"submit"},"Submit")],-1))]),_:1},8,["validation-schema"])])):(m(),p("div",X,e[5]||(e[5]=[s("i",{class:"fa-regular fa-circle-check v-icon",style:{"font-size":"50px"}},null,-1),s("h4",{class:"text-center text-secondary",style:{"max-width":"400px"}}," Your Identity document has been submitted successfully and it's under review, please check in later ",-1)])))])):j("",!0)])])}}});const se=I(Z,[["__scopeId","data-v-2539cc0e"]]);export{se as default};
